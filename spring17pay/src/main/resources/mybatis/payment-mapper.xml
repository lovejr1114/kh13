<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="payment">

	<!-- 결제 대표정보 등록 -->
	<select id="paymentSequence" resultType="int">
		select payment_seq.nextval from dual
	</select>
	
	<insert id="paymentAdd">
		insert into payment(
			payment_no, payment_name, payment_total, payment_remain, 
			member_id, payment_tid
		)
		values(
			#{paymentNo}, #{paymentName}, #{paymentTotal}, #{paymentRemain},
			#{memberId}, #{paymentTid}
		)
	</insert>
	
	<!-- 결제 상세정보 등록 -->
	<select id="paymentDetailSequence" resultType="int">
		select payment_derail_seq.nextval from dual
	</select>
	
	<insert id="paymentDetailAdd">
		insert into payment_detail(
			payment_detail_no, payment_detail_product, payment_detail_qty,
			payment_detail_name, payment_detail_price, payment_detail_status,
			payment_no
		)
		values(
			#{paymentDetailNo}, #{paymentDetailProduct}, #{paymentDetailQty},
			#{paymentDetailName}, #{paymentDetailPrice}, #{paymentDetailStatus},
			#{paymentNo}
		)
	</insert>

</mapper>